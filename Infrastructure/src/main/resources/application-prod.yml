spring:

  application:
    name: restful-api-jwt

  datasource:
    url: jdbc:postgresql://localhost:5432/restful-api-jwt
    driver-class-name: org.postgresql.Driver
    username: ${PSQL_USER}
    password: ${PSQL_PASS}
    hikari:
      schema: public

  jpa:
    show-sql: true
    hibernate:
      ddl-auto: create
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.PostgreSQLDialect
  # My ISP is blocking port 587, so I have to use port 465
  #  mail:
  #    host: smtp.gmail.com
  #    port: 587
  #    username: ${MAIL_USER}
  #    password: ${MAIL_PASS}
  #    protocol: smtp
  #    properties:
  #      mail:
  #        debug: true
  #        transport:
  #          protocol: smtp
  #        smtp:
  #          auth: true
  #          starttls:
  #            enable: true
  #            required: true

  mail:
    host: smtp.gmail.com
    port: 465
    username: ${MAIL_USER}
    password: ${MAIL_PASS}
    protocol: smtp
    properties:
      mail:
        smtp:
          ssl:
            enable: true
            trust: smtp.gmail.com
            checkserveridentity: true
        debug: false

server:
  port: 8080
  error:
    include-message: never
    include-exception: off
    include-stacktrace: never
  ssl:
    key-store: classpath:cris6h16.p12
    key-store-password: ${KEY_STORE_PASS}
    key-store-type: PKCS12
    key-alias: cris6h16
    enabled: true




jwt:
  secret:
    key: ${JWT_SECRET_KEY}



  expiration:
    token:
      refresh:
        secs: 1296000 # 15 days
      access:
        secs: 1800 # 30 minutes
        cookie:
          name: accessToken

      request:
        email:
          verification:
            secs: 86400 # 1 day todo: add to docs this change ( initiallly was 5 minutes)
          password:
            reset:
              secs: 1800 # 30 minutes

